{
  // OpenCode Global Configuration
  // 
  // This file configures plugins, providers, and models for OpenCode.
  // Agents are defined in agent/*.md files (markdown with YAML frontmatter)
  // Commands are defined in command/*.md files (markdown with YAML frontmatter)
  //
  // Documentation: https://opencode.ai/docs/
  // Oh My OpenCode: https://github.com/code-yeongyu/oh-my-opencode

  "$schema": "https://opencode.ai/config.json",

  // Plugins for enhanced functionality
  // Note: OpenCode caches resolved versions. To update plugins, run:
  // rm -rf ~/.cache/opencode/node_modules ~/.cache/opencode/bun.lock
  "plugin": [
    "opencode-antigravity-auth",
    "opencode-openai-codex-auth",
    "@franlol/opencode-md-table-formatter"
  ],

  // Provider configuration
  "provider": {
    // Google/Gemini models via Antigravity OAuth
    // Claude models are accessed directly via Anthropic (Claude Max subscription)
    "antigravity": {
      "npm": "@ai-sdk/google",
      "models": {
        // Gemini 3 Pro Preview - Latest reasoning model (Released: Nov 18, 2025)
        "gemini-3-pro-preview": {
          "id": "gemini-3-pro-preview",
          "name": "Gemini 3 Pro Preview",
          "release_date": "2025-11-18",
          "reasoning": true,
          "limit": { "context": 1000000, "output": 64000 },
          "cost": { "input": 2, "output": 12 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] }
        },
        "gemini-3-pro-preview-thinking-low": {
          "id": "gemini-3-pro-preview",
          "name": "Gemini 3 Pro Preview (Thinking - Low)",
          "release_date": "2025-11-18",
          "reasoning": true,
          "limit": { "context": 1000000, "output": 64000 },
          "cost": { "input": 2, "output": 12 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] },
          "options": { "thinkingLevel": "low", "includeThoughts": true }
        },
        "gemini-3-pro-preview-thinking-medium": {
          "id": "gemini-3-pro-preview",
          "name": "Gemini 3 Pro Preview (Thinking - Medium)",
          "release_date": "2025-11-18",
          "reasoning": true,
          "limit": { "context": 1000000, "output": 64000 },
          "cost": { "input": 2, "output": 12 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] },
          "options": { "thinkingLevel": "medium", "includeThoughts": true }
        },
        "gemini-3-pro-preview-thinking-high": {
          "id": "gemini-3-pro-preview",
          "name": "Gemini 3 Pro Preview (Thinking - High)",
          "release_date": "2025-11-18",
          "reasoning": true,
          "limit": { "context": 1000000, "output": 64000 },
          "cost": { "input": 2, "output": 12 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] },
          "options": { "thinkingLevel": "high", "includeThoughts": true }
        },
        // Gemini 3 Flash - Latest fast model (Released: Dec 17, 2025)
        "gemini-3-flash": {
          "id": "gemini-3-flash",
          "name": "Gemini 3 Flash",
          "release_date": "2025-12-17",
          "reasoning": true,
          "limit": { "context": 1048576, "output": 65536 },
          "cost": { "input": 0.5, "output": 3 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] }
        },
        "gemini-3-flash-thinking-low": {
          "id": "gemini-3-flash",
          "name": "Gemini 3 Flash (Thinking - Low)",
          "release_date": "2025-12-17",
          "reasoning": true,
          "limit": { "context": 1048576, "output": 65536 },
          "cost": { "input": 0.5, "output": 3 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] },
          "options": { "thinkingLevel": "low", "includeThoughts": true }
        },
        "gemini-3-flash-thinking-medium": {
          "id": "gemini-3-flash",
          "name": "Gemini 3 Flash (Thinking - Medium)",
          "release_date": "2025-12-17",
          "reasoning": true,
          "limit": { "context": 1048576, "output": 65536 },
          "cost": { "input": 0.5, "output": 3 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] },
          "options": { "thinkingLevel": "medium", "includeThoughts": true }
        },
        "gemini-3-flash-thinking-high": {
          "id": "gemini-3-flash",
          "name": "Gemini 3 Flash (Thinking - High)",
          "release_date": "2025-12-17",
          "reasoning": true,
          "limit": { "context": 1048576, "output": 65536 },
          "cost": { "input": 0.5, "output": 3 },
          "modalities": { "input": ["text", "image", "video", "audio", "pdf"], "output": ["text"] },
          "options": { "thinkingLevel": "high", "includeThoughts": true }
        },
        // Gemini 2.5 Flash - Reasoning model with thinking budget (Released: May 19, 2025)
        "gemini-2.5-flash": {
          "id": "gemini-2.5-flash",
          "name": "Gemini 2.5 Flash",
          "release_date": "2025-05-19",
          "reasoning": true,
          "limit": { "context": 1048576, "output": 65536 },
          "cost": { "input": 1.25, "output": 10 },
          "modalities": { "input": ["text", "image", "audio", "video", "pdf"], "output": ["text"] }
        },
        "gemini-2.5-flash-thinking": {
          "id": "gemini-2.5-flash",
          "name": "Gemini 2.5 Flash (Thinking)",
          "release_date": "2025-05-19",
          "reasoning": true,
          "limit": { "context": 1048576, "output": 65536 },
          "cost": { "input": 1.25, "output": 10 },
          "modalities": { "input": ["text", "image", "audio", "video", "pdf"], "output": ["text"] },
          "options": { "thinkingBudget": 8192, "includeThoughts": true }
        },
        // Gemini 2.5 Flash Lite - Fast, cost-effective model (Released: June 16, 2025)
        "gemini-2.5-flash-lite": {
          "id": "gemini-2.5-flash-lite",
          "name": "Gemini 2.5 Flash Lite",
          "release_date": "2025-06-16",
          "reasoning": false,
          "limit": { "context": 1048576, "output": 65536 },
          "cost": { "input": 0.1, "output": 0.4 },
          "modalities": { "input": ["text", "image", "audio", "video", "pdf"], "output": ["text"] }
        }
      }
    },
    "openai": {
      // Default options for OpenAI models via ChatGPT Plus OAuth
      "options": {
        "reasoningEffort": "medium",
        "reasoningSummary": "auto",
        "textVerbosity": "medium",
        "include": ["reasoning.encrypted_content"],
        "store": false
      },
      // Most used models - trimmed from 22 to 8 for cleaner selection
      "models": {
        // GPT 5.2 - Latest model, best for complex reasoning (Oracle agent default)
        "gpt-5.2-medium": {
          "name": "GPT 5.2 Medium (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "medium", "reasoningSummary": "auto", "textVerbosity": "medium", "include": ["reasoning.encrypted_content"], "store": false }
        },
        "gpt-5.2-high": {
          "name": "GPT 5.2 High (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "high", "reasoningSummary": "detailed", "textVerbosity": "medium", "include": ["reasoning.encrypted_content"], "store": false }
        },
        // GPT 5.2 Codex - Optimized for coding tasks
        "gpt-5.2-codex-medium": {
          "name": "GPT 5.2 Codex Medium (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "medium", "reasoningSummary": "auto", "textVerbosity": "medium", "include": ["reasoning.encrypted_content"], "store": false }
        },
        "gpt-5.2-codex-high": {
          "name": "GPT 5.2 Codex High (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "high", "reasoningSummary": "detailed", "textVerbosity": "medium", "include": ["reasoning.encrypted_content"], "store": false }
        },
        // GPT 5.1 Codex Max - Large context, long-horizon builds
        "gpt-5.1-codex-max-high": {
          "name": "GPT 5.1 Codex Max High (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "high", "reasoningSummary": "detailed", "textVerbosity": "medium", "include": ["reasoning.encrypted_content"], "store": false }
        },
        // GPT 5.1 Codex - Standard coding model
        "gpt-5.1-codex-high": {
          "name": "GPT 5.1 Codex High (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "high", "reasoningSummary": "detailed", "textVerbosity": "medium", "include": ["reasoning.encrypted_content"], "store": false }
        },
        // GPT 5.1 - General purpose, fast responses
        "gpt-5.1-medium": {
          "name": "GPT 5.1 Medium (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "medium", "reasoningSummary": "auto", "textVerbosity": "medium", "include": ["reasoning.encrypted_content"], "store": false }
        },
        "gpt-5.1-high": {
          "name": "GPT 5.1 High (OAuth)",
          "limit": { "context": 272000, "output": 128000 },
          "modalities": { "input": ["text", "image"], "output": ["text"] },
          "options": { "reasoningEffort": "high", "reasoningSummary": "detailed", "textVerbosity": "high", "include": ["reasoning.encrypted_content"], "store": false }
        }
      }
    }
  },

  // MCP Servers for research and development tools
  // These provide external capabilities for the research and dev-research skills
  "mcp": {
    // Context7 - Official documentation lookup for libraries
    // Used by: librarian agent, research skill
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp"
    },
    // grep.app - Fast GitHub code search across millions of repos
    // Used by: librarian agent, explore agent
    "grep_app": {
      "type": "remote",
      "url": "https://mcp.grep.app"
    },
    // BrightData - Advanced web scraping with CAPTCHA bypass (Layer 2 fallback)
    // Used by: research skill retrieve workflow when Crawl4AI fails
    // Free tier: 5,000 requests/month (search_engine, scrape_as_markdown)
    // Run locally via npx - requires API_TOKEN env var
    "brightdata": {
      "type": "local",
      "command": ["npx", "-y", "@brightdata/mcp"],
      "environment": {
        "API_TOKEN": "{env:BRIGHTDATA_API_TOKEN}"
      }
    }
    // Crawl4AI - Self-hosted web scraping with JS rendering (Layer 1.5)
    // Used by: research skill retrieve workflow (primary scraper)
    // Accessed via REST API (curl), not MCP - see workflows/retrieve.md
    // Base URL: https://crawl4ai.pietersz.me
    // Docs: https://crawl4ai.pietersz.me/docs
    // Requires: CRAWL4AI_API_TOKEN env var
  },

  // Agents are loaded from agent/*.md files (markdown with YAML frontmatter)
  // Commands are loaded from command/*.md files (markdown with YAML frontmatter)
  // Skills are loaded from skill/*/SKILL.md files
  // No need to define them here - the markdown files are the authoritative source
}
