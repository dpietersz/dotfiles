[base-applications-toolbox]
image=quay.io/fedora/fedora-toolbox:41
init=false
nvidia=false
pull=true
root=false
replace=true
start_now=false

# Enable RPM Fusion Free repository (for OBS Studio and multimedia codecs)
pre_init_hooks="dnf install -y https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-41.noarch.rpm || true"

# Add Beekeeper Studio official repository
pre_init_hooks="curl -o /etc/yum.repos.d/beekeeper-studio.repo https://rpm.beekeeperstudio.io/beekeeper-studio.repo && rpm --import https://rpm.beekeeperstudio.io/beekeeper.key || true"

# Add Vivaldi official repository
pre_init_hooks="dnf config-manager addrepo --from-repofile=https://repo.vivaldi.com/archive/vivaldi-fedora.repo || true"

# Enable COPR repositories for various applications
pre_init_hooks="dnf copr enable -y sneexy/zen-browser || true"
pre_init_hooks="dnf copr enable -y che/zed || true"
pre_init_hooks="dnf copr enable -y grahamwhiteuk/bruno || true"
pre_init_hooks="dnf copr enable -y alxhr0/Obsidian || true"

# Install official Fedora packages
additional_packages="pass gnupg emacs git wget curl"

# Use a setup script instead of multiple init_hooks to avoid parsing issues
init_hooks="curl -sL https://raw.githubusercontent.com/dpietersz/dotfiles/main/dot_local/bin/executable_setup-base-applications-toolbox-fedora.sh | bash"
