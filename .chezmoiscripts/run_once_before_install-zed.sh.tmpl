#!/bin/bash
{{- if not .remote }}

# Check if Zed editor is installed (not system zed utility)
if [ -f "$HOME/.local/zed.app/bin/zed" ] || [ -f "$HOME/.local/bin/zed" ]; then
  echo "Zed already installed"
  exit 0
fi

{{- if eq .chezmoi.os "darwin" }}
if command -v brew >/dev/null; then
  brew install --cask zed
else
  echo "Homebrew not installed. Visit: https://zed.dev/download"
fi

{{- else if or (eq .chezmoi.osRelease.id "bluefin") (eq .chezmoi.osRelease.id "fedora") (eq .chezmoi.osRelease.idLike "fedora") }}
curl -f https://zed.dev/install.sh | sh

{{- else }}
echo "No installation instructions for this distribution."
echo "Visit: https://zed.dev/download"

{{- end }}
{{- end }}
