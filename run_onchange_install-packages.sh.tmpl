#!/bin/bash

{{ if and .chezmoi.osRelease (and (eq .chezmoi.osRelease.id "ubuntu") (.remote)) -}}
sudo apt install -y \
  ripgrep \
  bat \
  fd-find \
  zsh \
  tmux \
  vim \
  exa \
  wireguard-tools \
  powerline \
  direnv \
  git-lfs \
  fzf

{{ else if and .chezmoi.osRelease (and (eq .chezmoi.osRelease.id "fedora") (eq .chezmoi.osRelease.variantID "workstation")) -}}
sudo dnf install -y \
  ripgrep \
  bat \
  fd-find \
  pass \
  zsh \
  tmux \
  vim \
  exa \
  wireguard-tools \
  powerline \
  tmux-powerline \
  direnv \
  alacritty \
  starship \
  thefuck \
  git-lfs \
  fzf

{{ else if (eq .chezmoi.os "darwin") -}}

brew install --cask \
  alacritty \
  homebrew/cask-fonts/font-fira-code-nerd-font

# note you should use rancher desktop for now. Lima didn't really work for me.
# rancher desktop provides:
# - kubectl
# - docker
# - docker-compose
# - docker-buildx
# - helm
# - nerdctl

brew install \
  starship \
  fzf \
  direnv \
  thefuck \
  exa \
  bat \
  kind \
  k3d \
  kubectl \
  k9s \
  python \
  fd \
  procs \
  entr \
  shellcheck \
  bottom \
  tmux

pip3 install --user powerline-status

{{- end }}
