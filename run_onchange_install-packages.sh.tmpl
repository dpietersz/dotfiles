#!/bin/bash

{{ if eq .chezmoi.os "linux" -}}

  {{- if or (eq .chezmoi.osRelease.id "ubuntu") (eq .chezmoi.osRelease.id "debian") -}}
sudo apt install -y \
  {{- if not .remote }}
  tmux \
  powerline \
  wireguard-tools \
  {{ end }}
  ripgrep \
  bat \
  fd-find \
  zsh \
  vim \
  exa \
  direnv \
  git-lfs \
  fzf

{{- else if and (eq .chezmoi.osRelease.id "fedora") (eq .chezmoi.osRelease.variantID "workstation") -}}
sudo dnf install -y \
  {{- if not .remote }}
  tmux \
  powerline \
  tmux-powerline \
  wireguard-tools \
  {{ end }}
  ripgrep \
  bat \
  fd-find \
  pass \
  zsh \
  vim \
  exa \
  direnv \
  alacritty \
  starship \
  thefuck \
  git-lfs \
  fzf
{{- end -}}

{{ else if (eq .chezmoi.os "darwin") -}}

brew install --cask \
  alacritty \
  homebrew/cask-fonts/font-fira-code-nerd-font

# note you should use rancher desktop for now. Lima didn't really work for me.
# rancher desktop provides:
# - kubectl
# - docker
# - docker-compose
# - docker-buildx
# - helm
# - nerdctl

brew install \
  starship \
  fzf \
  direnv \
  thefuck \
  exa \
  bat \
  kind \
  k3d \
  kubectl \
  k9s \
  python \
  fd \
  procs \
  entr \
  shellcheck \
  bottom \
  tmux

pip3 install --user powerline-status

{{- end }}
